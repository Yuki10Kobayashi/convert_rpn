# coding:utf-8

require './expression.rb'
require 'test/unit'

class RpnTest < Test::Unit::TestCase

  # 入力パターンにおいて、逆ポーランド記法への変換を確認する。
  data(
    'test0' => ['a+4-b+10+c','a4+b-10+c+'],
    'test1' => ['x+4-(y-30)','x4+y30--'],
    'test2' => ['4-x+y-(3+x-y)','4x-y+3x+y--'], 
    'test3' => ['z+x-x+y+y','zx+x-y+y+'],
    'test4' => ['-a-((b-c)-d)-((e-f)-(g-(h-(i-j))))','a-bc-d--ef-ghij-----'],
    'test5' => ['(x-x)+(y-y)','xx-yy-+'],
    'test6' => ['123456789+123456789+123456789+123456789+123456789+123456789+123456789+123456789+123456789+123456789+123456789+123456789+123456789+123456789+a+b+c+d+e-(v+w+x+y+z)+a+b+c+d+e-(v+w+x+y+z)+123456789+123456789+123456789+123456789+123456789+123456789+123456789+123456789+123456789+123456789+123456789+123456789+123456789+123456789+a+b+c+d+e-(v+w+x+y+z)+a+b+c+d+e-(v+w+x+y+z)','123456789123456789+123456789+123456789+123456789+123456789+123456789+123456789+123456789+123456789+123456789+123456789+123456789+123456789+a+b+c+d+e+vw+x+y+z+-a+b+c+d+e+vw+x+y+z+-123456789+123456789+123456789+123456789+123456789+123456789+123456789+123456789+123456789+123456789+123456789+123456789+123456789+123456789+a+b+c+d+e+vw+x+y+z+-a+b+c+d+e+vw+x+y+z+-'],
    'test7' => ['a*b*x+a*b*y','ab*x*ab*y*+'],
    'test8' => ['(x*a+y*b)*(a*b)','xa*yb*+ab**'],
    'test9' => ['(a+b)*(c+d)*(e+f)','ab+cd+*ef+*'],
  )
  def test_equal(data)
    exp, rpn_exp = data
    assert_equal(Rpn.get_rpn(exp), rpn_exp)
  end
end
